
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- START SECTION TOP -->
@await Component.InvokeAsync("_ContactPageNavigationComponentPartial")
<!-- END SECTION TOP -->

<!-- START ADDRESS -->
@await Component.InvokeAsync("_ContactAddressAreaComponentPartial")
<!-- END ADDRESS -->
<!-- START MAP -->
<!-- CONTACT -->
@await Component.InvokeAsync("_ContactContactAreaComponentPartial")
<!-- END CONTACT -->
@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('contactForm2');
            var resultDiv = document.getElementById('contactResult2');

            form.addEventListener('submit', function (e) {
                e.preventDefault(); // sayfa yenilemeyi durdur

                var formData = new FormData(form);
                fetch(form.action, {
                    method: 'POST',
                    body: formData
                })
                    .then(function (res) {
                        if (!res.ok) throw new Error('Sunucu hatası');
                        return res.text();  // veya JSON dönüyorsanız res.json()
                    })
                    .then(function (html) {
                        // Başarılıysa mesajı göster
                        resultDiv.innerHTML = '<div class="alert alert-success">Mesajınız başarılı bir şekilde gönderildi.</div>';
                        form.reset(); // formu temizle
                    })
                    .catch(function (err) {
                        resultDiv.innerHTML = '<div class="alert alert-danger">Mesaj gönderilirken bir hata oluştu.</div>';
                        console.error(err);
                    });
            });
        });
    </script>
}