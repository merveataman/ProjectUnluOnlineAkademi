
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- START HOME -->
@await Component.InvokeAsync("_HomeHeaderSectionComponentPartial")
<!-- END  HOME -->

<!-- START WHY US HOME ONE -->
@await Component.InvokeAsync("_HomeWhyUsSectionComponentPartial")
<!-- END WHY US HOME ONE -->

<!-- START COURSES-->
@await Component.InvokeAsync("_HomeCoursesSectionComponentPartial")
<!-- END COURSES -->

<!-- START EDUCATIONAL CONTENT-->
@await Component.InvokeAsync("_HomeEducationalContentSectionComponentPartial")
<!-- END EDUCATIONAL CONTENT -->

<!-- START CONTACT FORM-->
@await Component.InvokeAsync("_HomeContactFormSectionComponentPartial")
<!-- END CONTACT FORM -->

<!-- START ACHIEVEMENTS -->
@await Component.InvokeAsync("_HomeAchievementsSectionComponentPartial")
<!-- END ACHIEVEMENTS -->

<!-- START TESTIMONIALS-->
@await Component.InvokeAsync("_HomeStudentTestimonialsSectionComponentPartial")
<!-- END TESTIMONIALS -->

<!-- START BLOG -->
@await Component.InvokeAsync("_HomeBlogSectionComponentPartial")
<!-- END BLOG -->
@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('contactForm');
            var resultDiv = document.getElementById('contactResult');

            form.addEventListener('submit', function (e) {
                e.preventDefault(); // sayfa yenilemeyi durdur

                var formData = new FormData(form);
                fetch(form.action, {
                    method: 'POST',
                    body: formData
                })
                    .then(function (res) {
                        if (!res.ok) throw new Error('Sunucu hatası');
                        return res.text();  // veya JSON dönüyorsanız res.json()
                    })
                    .then(function (html) {
                        // Başarılıysa mesajı göster
                        resultDiv.innerHTML = '<div class="alert alert-success">Mesajınız başarılı bir şekilde gönderildi.</div>';
                        form.reset(); // formu temizle
                    })
                    .catch(function (err) {
                        resultDiv.innerHTML = '<div class="alert alert-danger">Mesaj gönderilirken bir hata oluştu.</div>';
                        console.error(err);
                    });
            });
        });
    </script>
}