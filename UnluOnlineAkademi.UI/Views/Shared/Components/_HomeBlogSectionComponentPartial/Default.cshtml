@model List<HomeBlogDto>
@using System
@using System.Globalization

<section id="blog" class="blog_area section-padding">
    <div class="container">
        <div class="section-title">
            <h2>Blog</h2>
            <p>Popüler Bloglar</p>
        </div>
        <div class="row">
            @foreach (var item in Model)
            {
                // Başlığı 200 karakterle sınırlayıp "…" ekle
                var displayTitle = item.Title.Length > 200
                ? item.Title.Substring(0, 200) + "…"
                : item.Title;

                // Nullable DateTime? ise önce null kontrolü yapalım
                var formattedDate = item.PublishDate.HasValue
                ? item.PublishDate.Value
                .ToString("dd MMMM yyyy", new CultureInfo("tr-TR"))
                : "";

                <div class="col-lg-4 col-sm-4 col-xs-12 wow fadeInUp"
                     data-wow-duration="1s"
                     data-wow-delay="0.1s"
                     data-wow-offset="0">
                    <div class="single_blog">
                        <img src="@item.CoverImg" class="img-fluid" alt="image" />
                        <div class="content_box">
                            <span>@formattedDate&nbsp;|</span>
                            <h2><a href="/Blog/Blog1">@displayTitle</a></h2>
                            <a href="/Blog/Blog1" class="cta">
                                <span>Devamını Oku</span>
                                <svg width="13px" height="10px" viewBox="0 0 13 10">
                                    <path d="M1,5 L11,5"></path>
                                    <polyline points="8 1 12 5 8 9"></polyline>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div><!-- / END ROW -->
    </div><!-- END CONTAINER  -->
</section>
